"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[895],{7428:function(t,e,i){i.d(e,{Z:function(){return c}});i(7658);var l=function(){var t=this,e=t._self._c;return e("el-table",t._b({attrs:{data:t.tableData}},"el-table",t.$attrs,!1),[t._l(t.tableFields,(function(i,l){return e("el-table-column",t._b({key:l,attrs:{prop:i.prop,label:i.label},scopedSlots:t._u([i.isDefine?{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"45px"},attrs:{src:t.row[i.prop],alt:""}})]}}:null],null,!0)},"el-table-column",i.props,!1))})),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$router.push({path:t.editUrl,query:{id:i.row._id}})}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.remove(i.row._id)}}},[t._v("删除")])]}}])})],2)},r=[],s=i(7675),a={props:{tableData:{type:Array,default:()=>[]},editUrl:{type:String,default:null},tableFields:{type:Array,default:()=>[]}},components:{ISelect:s.Z},methods:{remove(t){this.$emit("remove",t)}}},n=a,o=i(1001),u=(0,o.Z)(n,l,r,!1,null,null,null),c=u.exports},3149:function(t,e,i){i.d(e,{Z:function(){return c}});i(7658);var l,r,s=i(588),a={data(){return{}},methods:{async onSubmit(t,e){this.id?(console.log(this.form),await(0,s.ht)(t,this.form),this.$mes()):(await(0,s.k4)(t,this.form),this.$mes()),this.$router.push({path:e})},async fetchId(t){return new Promise((async e=>{const i=await(0,s.qC)(t,this.id);this.form=i,e(i)}))},async findCategoryList(t,e=!0){const i=await(0,s.mY)(t,{isOnlyParent:e});if(this.tableData)this.tableData=i;else if(this.formFields)for(let l in this.formFields){const t=this.formFields[l];if(t.hasOwnProperty("options")&&!t.options){t.options=i;break}}},async remove(t,e){await(0,s.uu)(t,e),this.findCategoryList(this.listUrl,!1),this.$mes()}}},n=a,o=i(1001),u=(0,o.Z)(n,l,r,!1,null,null,null),c=u.exports},7895:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[e("ITable",{staticStyle:{width:"100%"},attrs:{tableData:t.tableData,editUrl:"/items/create",tableFields:t.tableFields},on:{remove:function(e){return t.remove(e,"items/delete/")}}})],1)},r=[],s=i(7428),a=i(3149),n={data(){return{listUrl:"",tableData:[],tableFields:[{prop:"_id",label:"id",props:{width:"220"}},{prop:"name",label:"物品名称",props:{width:"220"}},{prop:"icon",label:"图标",isDefine:!0,props:{width:"220"}}]}},components:{ITable:s.Z},created(){this.listUrl="items/list",this.findCategoryList(this.listUrl,!1)},mixins:[a.Z],methods:{}},o=n,u=i(1001),c=(0,u.Z)(o,l,r,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=895.b3ce7b5b.js.map