"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[714],{3149:function(t,i,e){e.d(i,{Z:function(){return u}});e(7658);var s,r,n=e(588),o={data(){return{}},methods:{async onSubmit(t,i){this.id?(console.log(this.form),await(0,n.ht)(t,this.form),this.$mes()):(await(0,n.k4)(t,this.form),this.$mes()),this.$router.push({path:i})},async fetchId(t){return new Promise((async i=>{const e=await(0,n.qC)(t,this.id);this.form=e,i(e)}))},async findCategoryList(t,i=!0){const e=await(0,n.mY)(t,{isOnlyParent:i});if(this.tableData)this.tableData=e;else if(this.formFields)for(let s in this.formFields){const t=this.formFields[s];if(t.hasOwnProperty("options")&&!t.options){t.options=e;break}}},async remove(t,i){await(0,n.uu)(t,i),this.findCategoryList(this.listUrl,!1),this.$mes()}}},a=o,l=e(1001),m=(0,l.Z)(a,s,r,!1,null,null,null),u=m.exports},3485:function(t,i,e){e.r(i),e.d(i,{default:function(){return v}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main-container"},[i("h3",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),i("IForm",{attrs:{formFields:t.formFields,form:t.form,inline:!0,"label-position":"right"},on:{onSubmit:t.submit}},[i("ad",{attrs:{form:t.form}})],1)],1)},r=[],n=e(5256),o=e(3149),a=(e(7658),function(){var t=this,i=t._self._c;return i("div",[i("hr"),i("div",[i("el-button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.form.items.push({})}}},[t._v("添加广告位")])],1),i("el-row",t._l(t.form.items,(function(e,s){return i("el-col",{key:s},[i("el-form-item",{attrs:{label:"跳转地址",prop:"url"}},[i("el-input",{model:{value:e.url,callback:function(i){t.$set(e,"url",i)},expression:"item.url"}})],1),i("el-form-item",{attrs:{label:"图标",prop:"icon"}},[i("myUpload",{attrs:{url:"http://localhost:8080/ad/upload"},model:{value:e.image,callback:function(i){t.$set(e,"image",i)},expression:"item.image"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.form.items.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1)}),l=[],m=e(8756),u={props:{form:{type:Object,default:()=>({})}},components:{myUpload:m.Z}},c=u,f=e(1001),d=(0,f.Z)(c,a,l,!1,null,null,null),h=d.exports,p={props:["id"],data(){return{form:{name:"",items:[]},formFields:[{type:"input",label:"标题",value:"title",attrs:{placeholder:"请输入内容"}}]}},components:{IForm:n.Z,ad:h},mixins:[o.Z],created(){this.id&&this.fetchId("ad/list/"),this.findCategoryList("category/list",!1)},methods:{submit(){const t=this.id?"ad/edit":"ad/create";this.onSubmit(t,"/ad/list")}}},y=p,b=(0,f.Z)(y,s,r,!1,null,null,null),v=b.exports}}]);
//# sourceMappingURL=714.018a9bcb.js.map